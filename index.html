<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script src="https://aframe.io/releases/0.2.0/aframe.min.js"></script>
<script src="/isa/BDJPFRDMEYBPBKLVADAYFQCDAVIOEQJR/vr-test/aframe-html-shader.min.js"></script>
<script src="https://rawgit.com/cemkod/aframe-fps-look-component/master/dist/aframe-example-component.min.js"></script>
<script src="https://rawgit.com/ngokevin/aframe-layout-component/master/dist/aframe-layout-component.min.js"></script>
<!--script src="/isa/BDJPFRDMEYBPBKLVADAYFQCDAVIOEQJR/vr-test/aframe-arch-layout.js"></script-->
<script src="/isa/BDJPFRDMEYBPBKLVADAYFQCDAVIOEQJR/vr-test/vr-script.js"></script>

<confirmit:wysiwygcomponent type="ProgressBar" id="99745605-468a-4347-8282-7b7137cb4d0b" /><confirmit:wysiwygcomponent type="ContinueLink" id="b6c76eaa-6fc8-4c8b-b3c6-8cdfd2f5cc32" /><confirmit:wysiwygcomponent type="PageError" id="60a40c8f-0f60-4267-8b80-cbea1c194d74" />

<div style="width:250px;">
    <confirmit:wysiwygcomponent type="PageArea" id="92f83a08-a9ad-4ad6-9149-6985138c076f" /></div>
<confirmit:wysiwygcomponent type="Navigation" id="4b6cb00f-bba0-42b9-bff5-7bd25f4476f2" /><confirmit:wysiwygcomponent type="PoweredBy" id="a1bd1a7d-e903-42c2-ad86-3c5acdd6a570" />

<a-scene>
    <a-assets>
        <a-mixin id="buttonCircle" geometry="primitive: cylinder; height: 0; radius: 0.4;" material="transparent:true;opacity:0.5"></a-mixin>
        <a-mixin id="buttonTriangle" geometry="primitive: cylinder; height: 0.2; segmentsRadial: 3; radius: 0.3"></a-mixin>
        <a-mixin id="buttonPlane" geometry="primitive:plane; width:1; height:1" material="transparent:true;opacity:0;shader:flat;" look-at="#camera"></a-mixin>
    </a-assets>

    <a-entity position="0 1.8 4" rotation="0 0 0">
        <a-camera id="camera" fps-look-controls="">
            <a-entity position="0 0 -3" geometry="primitive: ring; radiusOuter: 0.05;  radiusInner: 0.03;" material="color: cyan; shader: flat" cursor="maxDistance: 30; fuse: true">
                <a-animation begin="click" easing="ease-in" attribute="scale" fill="forwards" from="0.1 0.1 0.1" to="1 1 1" dur="150"></a-animation>
                <a-animation begin="fusing" easing="ease-in" attribute="scale" fill="backwards" from="1 1 1" to="0.1 0.1 0.1" dur="1000" timeout="1000"></a-animation>
            </a-entity>
        </a-camera>
    </a-entity>


    <a-entity id="questionHost" position="0 0.5 0">

        <a-entity class="leftCircle">
            <a-entity id="textHost" look-at="#camera" geometry="primitive:plane;width:10" material="transparent:true;opacity:0" position="-5  0 -3" scale="0.5 0.5 0.5"></a-entity>

            <a-entity mixin="buttonPlane" position="-10 0 3">
                <a-entity id="prevButton" mixin="buttonCircle" rotation="180 90 90">
                    <a-entity mixin="buttonTriangle"></a-entity>
                </a-entity>
            </a-entity>

        </a-entity>

        <a-entity class="rightCircle">

            <a-entity id="answersHost" look-at="#camera" geometry="primitive:plane;width:10" material="transparent:true;opacity:0" position="0 0 -3" scale="0.5 0.5 0.5"></a-entity>

            <a-entity mixin="buttonPlane" position="6 0 -2">
                <a-entity id="nextButton" mixin="buttonCircle" rotation="0 90 90">
                    <a-entity mixin="buttonTriangle"></a-entity>
                </a-entity>
            </a-entity>

        </a-entity>

    </a-entity>

    <a-sky color="#ECECEC" src="/isa/BDJPFRDMEYBPBKLVADAYFQCDAVIOEQJR/vr-test/panorama_xs.jpg"></a-sky>
</a-scene>


<script>
    var SCENE = document.querySelector('a-scene');

    if (SCENE.hasLoaded) {
        console.log('has loaded');
        window.VR = new VRSurvey(SCENE);

        document.querySelector('.a-enter-vr-button').setAttribute('type','button');
    } else {
        console.log('added listener');
        SCENE.addEventListener('loaded', function(){
            console.log('loaded from listener');
            window.VR = new VRSurvey(SCENE);
            document.querySelector('.a-enter-vr-button').setAttribute('type','button');
        })
    }
</script>

</body>
</html>